<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <link href="css/style.css" rel="stylesheet" type="text/css">
        <link href="css/tabs.css" rel="stylesheet" type="text/css">
        <link href="css/code.css" rel="stylesheet" type="text/css">
        <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
        <script src="js/tabs.js"></script>
    </head>
    <body>
<title>Getting Started with Rust</title>
<h1 id="Getting_Started:_Variables,_Functions,_and_Syntax" >Getting Started: Variables, Functions, and Syntax</h1>
<br/><table style="border-top: 1px solid #ccc; border-bottom: 1px solid #ccc; width:100%"><tr><td style="width:20%"><a href="http://aml3.github.io/RustTutorial/html/toc.html" style="float:left"> Previous </a></td><td style="text-align: center;"><a href="http://aml3.github.io/RustTutorial/html/toc.html"> Table of Contents </a></td><td style="width:20%"><a href="http://aml3.github.io/RustTutorial/html/02.html" style="float: right"> Next </a></td></tr></table><br/><p>
In this section, we'll be going over the basic syntax of Rust. You'll learn about
variable declarations and mutability, how to work with functions, and some basic
control flow, like loops, conditionals, and matching. Finally, we'll be analyzing
a simple program to find
<a href="http://en.wikipedia.org/wiki/Collatz_conjecture">Collatz numbers</a>
, which will utilize the topics in this section.
<h2 id="Variables" >Variables</h2>
<h3 id="Declaration_and_Typing:" >Declaration and Typing:</h3>
</p>
<div class="notab"><table class="srctable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="src"><pre><span class="k">let</span> <span class="n">foo</span> <span class="o">=</span> <span class="m">5</span><span class="p">;</span> 
</pre></div>
</td></tr></table>
</div><p>
The above is a valid variable declaration in Rust. There are several things you should notice about this. 
First, the keyword 
<span class="src"><code><span class="k">let</span></code></span>
.
<span class="src"><code><span class="k">let</span></code></span>
 is used to declare local variables in Rust, and must preface every such declaration. 
Second, if you're accustomed to other statically-typed languages, you've probably noticed that there is no explicit statement of type here; instead, the compiler infers that 
<span class="src"><code><span class="n">foo</span></code></span>
 should be an int. 
Rust's compiler is typically very good at correctly inferring types for variables. However, there are times that it draws an incorrect conclusion, usually when the type a variable could be is in some manner ambiguous. We can circumvent this by explicitly telling the compiler what type you want the variable to be, as so: 
</p>
<div class="notab"><table class="srctable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="src"><pre><span class="k">let</span> <span class="n">foo</span><span class="o">:</span> <span class="k">int</span> <span class="o">=</span> <span class="m">5</span><span class="p">;</span>
</pre></div>
</td></tr></table>
</div><p>
Rust's primitive types are essentially what you would expect with a background in C-like languages:
</p>
<p>
<table style="width: 90%; margin-left: auto; margin-right: auto; text-align: center; border: 1px solid #ccc">
    <tr>
        <td style="width: 30%; border: 1px solid #ccc">
            Integral types:
        </td>
        <td style="border: 1px solid #ccc">
            Signed and unsigned integers (
<span class="src"><code><span class="k">int</span></code></span>
 and 
<span class="src"><code><span class="k">uint</span></code></span>
, respectively), in 8-, 16-, 32-, and 64- bit sizes (
<span class="src"><code><span class="k">i8</span></code></span>
,
<span class="src"><code><span class="k">u8</span></code></span>
, etc.)
        </td>
    </tr>
    <tr>
        <td style="border: 1px solid #ccc">
            Floating point:
        </td>
        <td style="border: 1px solid #ccc">
            32- and 64- bit floating point numbers (
<span class="src"><code><span class="k">f32</span></code></span>
 and 
<span class="src"><code><span class="k">f64</span></code></span>
)
        </td>
    </tr>
    <tr>
        <td style="border: 1px solid #ccc">
            Booleans:
        </td>
        <td style="border: 1px solid #ccc">
<span class="src"><code><span class="n">bool</span></code></span>
, which has values of 
<span class="src"><code><span class="k">true</span></code></span>
 or 
<span class="src"><code><span class="k">false</span></code></span>
.
        </td>
    </tr>
    <tr>
        <td style="border: 1px solid #ccc">
            Characters:
        </td>
        <td style="border: 1px solid #ccc">
<span class="src"><code><span class="n">char</span></code></span>
, a 4-byte Unicode codepoint representation.
        </td>
    </tr>
</table>
</p>
<p>
Finally, you should notice that the above declaration uses =, as you would expect, for assignment, and terminates the statement with a semicolon. Operators in Rust are essentially all the same as in languages with which you're familiar, and we'll discuss the difference between statements and expressions (which are not terminated by a semicolon) later in this section. 
To summarize, declarations of local variables in Rust follow the form: 
<div class="src"><pre><span class="k">let</span> <span class="n">name</span><span class="optional"><span class="o">:</span> <span class="k">type</span></span> <span class="optional"><span class="o">=</span> <span class="n">value</span></span><span class="p">;</span>
</pre></div>where the grayed out items are optional.
<h3 id="Mutability:" >Mutability:</h3>
</p>
<div class="notab"><table class="srctable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="src"><pre><span class="k">let</span> <span class="n">foo</span> <span class="o">=</span> <span class="m">5</span><span class="p">;</span>
<span class="n">foo</span> <span class="o">=</span> <span class="m">6</span><span class="p">;</span>
</pre></div>
</td></tr></table>
</div><p>
The above code is invalid Rust; it will not compile. This is because all Rust local variables are, 
by default, immutable - meaning that you cannot change their assigned value once given. In order 
to make a mutable local variable, you must introduce another keyword - 
<span class="src"><code><span class="k">mut</span></code></span>
. The following code will work:
</p>
<div class="notab"><table class="srctable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="src"><pre><span class="k">let</span> <span class="k">mut</span> <span class="n">foo</span> <span class="o">=</span> <span class="m">5</span><span class="p">;</span>
<span class="n">foo</span> <span class="o">=</span> <span class="m">6</span><span class="p">;</span>
</pre></div>
</td></tr></table>
</div><h3 id="Static_Variables:" >Static Variables:</h3>
<p>
Rust does have support for static variables; however, as they lead to all manner of trouble,
particularly when dealing with concurrent programs, all static items must be either 
immutable or only used in an unsafe function or block (which will be discussed later). 
Static variables always require a type specification, and are declared with the static keyword, as so: 
</p>
<div class="notab"><table class="srctable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="src"><pre><span class="k">static</span> <span class="n">foo</span><span class="o">:</span> <span class="k">int</span> <span class="o">=</span> <span class="m">5</span><span class="p">;</span>
</pre></div>
</td></tr></table>
</div><h2 id="Conditionals" >Conditionals</h2>
<p>
Rust’s conditionals are very similar to what you’ve probably seen in Java or another 
C-family language, with two slight exceptions. The associated keywords are 
<span class="src"><code><span class="k">if</span></code></span>
,
<span class="src"><code><span class="k">else</span> <span class="k">if</span></code></span>
, and
<span class="src"><code><span class="k">else</span></code></span>
, and are followed by a boolean expression (it must be of type
<span class="src"><code><span class="n">bool</span></code></span>
; no type conversion will take place automatically) in the case of 
<span class="src"><code><span class="k">if</span></code></span>
 and
<span class="src"><code><span class="k">else</span> <span class="k">if</span></code></span>
. The boolean expressions need not be in parentheses, but the body of the conditional 
block must be enclosed in braces. That is, whereas in Java, you could have something like: 
</p>
<div class="notab"><table class="srctable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="src"><pre><span class="k">if</span><span class="o">(</span><span class="n">foo</span> <span class="o">==</span> <span class="mi">5</span><span class="o">)</span> 
    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;it worked&quot;</span><span class="o">);</span>
</pre></div>
</td></tr></table>
</div><p>
the equivalent in Rust:
</p>
<div class="notab"><table class="srctable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="src"><pre><span class="k">if</span> <span class="n">foo</span> <span class="o">==</span> <span class="m">5</span> 
    <span class="n">println</span><span class="p">(</span><span class="s">&quot;it worked&quot;</span><span class="p">);</span>
</pre></div>
</td></tr></table>
</div><p>
is illegal. The following is a legal conditional block; note that the else and 
else if are optional for validity.
</p>
<div class="notab"><table class="srctable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="src"><pre><span class="k">if</span> <span class="n">foo</span> <span class="o">==</span> <span class="m">5</span> <span class="p">{</span> 
    <span class="n">println</span><span class="p">(</span><span class="s">&quot;it’s five&quot;</span><span class="p">);</span> 
<span class="p">}</span>
<span class="k">else</span> <span class="k">if</span> <span class="n">foo</span> <span class="o">==</span> <span class="m">6</span> <span class="p">{</span> 
    <span class="n">println</span><span class="p">(</span><span class="s">&quot;it’s six&quot;</span><span class="p">);</span>
<span class="p">}</span>
<span class="k">else</span> <span class="p">{</span> 
    <span class="n">println</span><span class="p">(</span><span class="s">&quot;it’s not five or six&quot;</span><span class="p">);</span> 
<span class="p">}</span>
</pre></div>
</td></tr></table>
</div><h2 id="Pattern_Matching" >Pattern Matching</h2>
<p>
Rather than using a “switch” statement, as you may have seen in other 
languages, Rust uses the 
<span class="src"><code><span class="k">match</span></code></span>
statement. 
<span class="src"><code><span class="k">match</span></code></span>
is like a significantly more powerful and useful switch, and is used fairly 
extensively in a lot of Rust code. You'll run into it frequently, particularly
in the error handling section. 
<span class="src"><code><span class="k">match</span></code></span>
works like this:
</p>
  <ul class="tabs">
        <li><a href="#tab1-1">Rust</a></li>
        <li><a href="#tab1-2">Java</a></li>
    </ul>
    <div id="tab1-1" class="tabcode">
                    <div class="tabbed"><table class="srctable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="src"><pre><span class="k">let</span> <span class="n">x</span> <span class="o">=</span> <span class="m">4</span><span class="p">;</span>
<span class="k">match</span> <span class="n">x</span> <span class="p">{</span>
	<span class="m">0</span> <span class="o">=&gt;</span> <span class="p">{</span> <span class="p">;</span> <span class="p">}</span> <span class="c1">// Do nothing</span>
	<span class="m">4</span> <span class="o">=&gt;</span> <span class="p">{</span> <span class="n">foo</span><span class="p">();</span> <span class="p">}</span>
	<span class="n">_</span> <span class="o">=&gt;</span> <span class="p">{</span> <span class="n">bar</span><span class="p">();</span> <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
</div>					</div>
                            
    <div id="tab1-2" class="tabcode">
                    <div class="tabbed"><table class="srctable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="src"><pre><span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">4</span><span class="o">;</span>
<span class="k">switch</span> <span class="o">(</span><span class="n">x</span><span class="o">)</span> <span class="o">{</span>
	<span class="k">case</span> <span class="mi">0</span><span class="o">:</span> <span class="n">foo</span><span class="o">();</span>
		<span class="k">break</span><span class="o">;</span>
	<span class="k">case</span> <span class="mi">4</span><span class="o">:</span> <span class="n">bar</span><span class="o">();</span>
		<span class="k">break</span><span class="o">;</span>
	<span class="k">default</span><span class="o">:</span> <span class="n">zot</span><span class="o">();</span>
		<span class="k">break</span><span class="o">;</span>
<span class="o">}</span>
</pre></div>
</td></tr></table>
</div>					</div><p>
The
<span class="src"><code><span class="n">_</span></code></span>
is equivalent to
<span class="src"><code><span class="k">default</span></code></span>
in Java. It serves as a catchall.
</p>
<p>
Unlike a
<span class="src"><code><span class="k">switch</span></code></span>
statement, a
<span class="src"><code><span class="k">match</span></code></span>
statement must always exectute a branch, even if that branch does nothing.
</p>
<div class="notab"><table class="srctable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="src"><pre><span class="k">let</span> <span class="n">x</span> <span class="o">=</span> <span class="m">4</span><span class="p">;</span>
<span class="k">match</span> <span class="n">x</span> <span class="p">{</span> <span class="c1">// Illegal</span>
	<span class="m">0</span> <span class="o">=&gt;</span> <span class="n">foo</span><span class="p">(),</span>
	<span class="m">1</span> <span class="o">=&gt;</span> <span class="n">bar</span><span class="p">()</span>
<span class="p">}</span>

<span class="k">match</span> <span class="n">x</span> <span class="p">{</span> <span class="c1">// Legal</span>
	<span class="m">0</span> <span class="o">=&gt;</span> <span class="n">foo</span><span class="p">(),</span>
	<span class="m">1</span> <span class="o">=&gt;</span> <span class="n">bar</span><span class="p">(),</span>
	<span class="n">_</span> <span class="o">=&gt;</span> <span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
</div><p>
In summary, this is what a
<span class="src"><code><span class="k">match</span></code></span>
statement's syntax looks like:
<div class="src"><pre><span class="k">match</span> <span class="n">expression</span> <span class="p">{</span>
	<span class="n">value0</span> <span class="o">=&gt;</span> <span class="p">{</span> <span class="optional"><span class="n">code</span></span> <span class="p">}</span>
	<span class="n">value1</span> <span class="o">=&gt;</span> <span class="p">{</span> <span class="optional"><span class="n">code</span></span> <span class="p">}</span>
	
<span class="p">}</span>
</pre></div><h2 id="Looping" >Looping</h2>
In Rust loops, we can use
<span class="src"><code><span class="k">break</span></code></span>
to get out of the loop and 
<span class="src"><code><span class="n">continue</span></code></span>
to skip to the next iteration.
<h3 id="<code_class='src'><span_class='k'>while</span></code>:" ><code class='src'><span class='k'>while</span></code>:</h3>
Like most other languages, a
<span class="src"><code><span class="k">while</span></code></span>
loop iterates until its condition is false. Its condition must be of type bool.
</p>
  <ul class="tabs">
        <li><a href="#tab2-1">Rust</a></li>
        <li><a href="#tab2-2">Java</a></li>
    </ul>
    <div id="tab2-1" class="tabcode">
                    <div class="tabbed"><table class="srctable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="src"><pre><span class="k">let</span> <span class="k">mut</span> <span class="n">i</span> <span class="o">=</span> <span class="m">0</span><span class="p">;</span>
<span class="k">while</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="m">10</span> <span class="p">{</span> 
	<span class="n">println</span><span class="p">(</span><span class="s">&quot;Hi there&quot;</span><span class="p">);</span>
	<span class="n">i</span> <span class="o">+=</span> <span class="m">1</span><span class="p">;</span> <span class="c1">// Rust doesn&#39;t support ++ or --</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
</div>					</div>
                            
    <div id="tab2-2" class="tabcode">
                    <div class="tabbed"><table class="srctable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="src"><pre><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
<span class="k">while</span> <span class="o">(</span><span class="n">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="o">)</span> <span class="o">{</span>
	<span class="n">println</span><span class="o">(</span><span class="s">&quot;Hi there&quot;</span><span class="o">);</span>
	<span class="n">i</span><span class="o">++;</span>
<span class="o">}</span>
</pre></div>
</td></tr></table>
</div>					</div><p>
Its syntax is
<div class="src"><pre><span class="k">while</span> <span class="n">condition</span> <span class="p">{</span>
	<span class="optional"><span class="n">code</span></span>
<span class="p">}</span>
</pre></div><h3 id="<code_class='src'><span_class='k'>loop</span></code>:" ><code class='src'><span class='k'>loop</span></code>:</h3>
<span class="src"><code><span class="k">loop</span></code></span>
is syntactic sugar for 
<span class="src"><code><span class="k">while</span> <span class="k">true</span></code></span>
.
</p>
<p>
For completeness, its syntax is
<div class="src"><pre><span class="k">loop</span> <span class="p">{</span>
	<span class="optional"><span class="n">code</span></span>
<span class="p">}</span>
</pre></div><h3 id="<code_class='src'><span_class='k'>for</span></code>:_" ><code class='src'><span class='k'>for</span></code>: </h3>
Rust’s for loop is more akin to Java’s for-each loop than to a traditional 
for loop. It uses an iterator to loop over the items in a variable. 
Since we haven’t covered vectors, for now it’s enough to know that we can 
achieve a traditional for loop by using 
<span class="src"><code><span class="n">range</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">)</span></code></span>
, which creates a set of integers, <code>[start, end)</code>.
</p>
  <ul class="tabs">
        <li><a href="#tab3-1">Rust</a></li>
        <li><a href="#tab3-2">Java</a></li>
    </ul>
    <div id="tab3-1" class="tabcode">
                    <div class="tabbed"><table class="srctable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="src"><pre><span class="c1">// Calls foo with 0, 1, ..., 9</span>
<span class="k">for</span> <span class="n">i</span> <span class="n">in</span> <span class="n">range</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="m">10</span><span class="p">)</span> <span class="p">{</span>
	<span class="n">foo</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
</div>					</div>
                            
    <div id="tab3-2" class="tabcode">
                    <div class="tabbed"><table class="srctable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="src"><pre><span class="c1">// Calls foo with 0, 1, ..., 9</span>
<span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
	<span class="n">foo</span><span class="o">(</span><span class="n">i</span><span class="o">);</span>
<span class="o">}</span>
</pre></div>
</td></tr></table>
</div>					</div><h2 id="Functions" >Functions</h2>
<h3 id="Definition_and_Invocation:" >Definition and Invocation:</h3>
<h3 id="Parameters_and_Return_Values:" >Parameters and Return Values:</h3>
<h3 id="Expressions:" >Expressions:</h3>
<h2 id="Collatz" >Collatz</h2>
<h3 id="The_Collatz_Conjecture:" >The Collatz Conjecture:</h3>
<h3 id="Finding_Collatz_Numbers:" >Finding Collatz Numbers:</h3>
<h3 id="Breaking_Down_the_Code:" >Breaking Down the Code:</h3>
<div class="notab"><table class="srctable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49</pre></div></td><td class="code"><div class="src"><pre><span class="k">fn</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
	<span class="k">let</span> <span class="k">mut</span> <span class="n">i</span> <span class="o">=</span> <span class="m">1</span><span class="p">;</span>

	<span class="c1">// Basic function call</span>
	<span class="n">println</span><span class="p">(</span><span class="s">&quot;Single Call&quot;</span><span class="p">);</span>
	<span class="k">let</span> <span class="n">steps</span> <span class="o">=</span> <span class="n">collatz</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
	<span class="n">println</span><span class="p">(</span><span class="n">format</span><span class="o">!</span><span class="p">(</span><span class="s">&quot;{:?} has {:?} steps&quot;</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">steps</span><span class="p">));</span>

	<span class="c1">// Loop until we find a number with more than 10 steps</span>
	<span class="n">println</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">Using `loop`&quot;</span><span class="p">);</span>
	<span class="k">loop</span> <span class="p">{</span> <span class="c1">// equivalent to `while true`</span>
		<span class="k">let</span> <span class="n">steps</span> <span class="o">=</span> <span class="n">collatz</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
		<span class="n">println</span><span class="p">(</span><span class="n">format</span><span class="o">!</span><span class="p">(</span><span class="s">&quot;{:?} has {:?} steps&quot;</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">steps</span><span class="p">));</span>

		<span class="k">if</span> <span class="n">steps</span> <span class="o">&gt;</span> <span class="m">10</span> <span class="p">{</span> <span class="k">break</span><span class="p">;</span> <span class="p">}</span>

		<span class="n">i</span> <span class="o">+=</span> <span class="m">1</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="c1">// Find the first 10 Collatz numbers</span>
	<span class="n">println</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">Using `for`&quot;</span><span class="p">);</span>
	<span class="k">for</span> <span class="n">i</span> <span class="n">in</span> <span class="n">range</span><span class="p">(</span><span class="m">1</span><span class="p">,</span> <span class="m">11</span><span class="p">)</span> <span class="p">{</span>
		<span class="k">let</span> <span class="n">steps</span> <span class="o">=</span> <span class="n">collatz</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
		<span class="n">println</span><span class="p">(</span><span class="n">format</span><span class="o">!</span><span class="p">(</span><span class="s">&quot;{:?} has {:?} steps&quot;</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">steps</span><span class="p">));</span>
	<span class="p">}</span>

	<span class="c1">// Equivalent loop</span>
	<span class="n">println</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">Using `while`&quot;</span><span class="p">);</span>
	<span class="n">i</span> <span class="o">=</span> <span class="m">1</span><span class="p">;</span>
	<span class="k">while</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="m">10</span> <span class="p">{</span>
		<span class="k">let</span> <span class="n">steps</span> <span class="o">=</span> <span class="n">collatz</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
		<span class="n">println</span><span class="p">(</span><span class="n">format</span><span class="o">!</span><span class="p">(</span><span class="s">&quot;{:?} has {:?} steps&quot;</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">steps</span><span class="p">));</span>
		
		<span class="n">i</span> <span class="o">+=</span> <span class="m">1</span><span class="p">;</span>
	<span class="p">}</span>
<span class="p">}</span>

<span class="k">fn</span> <span class="n">collatz</span><span class="p">(</span><span class="n">N</span><span class="o">:</span> <span class="k">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="k">int</span> <span class="p">{</span>
	<span class="k">return</span> <span class="n">collatz2</span><span class="p">(</span><span class="n">N</span><span class="p">,</span> <span class="m">0</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">fn</span> <span class="n">collatz2</span><span class="p">(</span><span class="n">N</span><span class="o">:</span> <span class="k">int</span><span class="p">,</span> <span class="n">steps</span><span class="o">:</span> <span class="k">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="k">int</span> <span class="p">{</span>
	<span class="k">if</span> <span class="n">N</span> <span class="o">==</span> <span class="m">1</span> <span class="p">{</span> <span class="k">return</span> <span class="n">steps</span><span class="p">;</span> <span class="p">}</span>

	<span class="k">match</span> <span class="n">N</span> <span class="o">%</span> <span class="m">2</span> <span class="p">{</span>
		<span class="m">0</span> <span class="o">=&gt;</span> <span class="p">{</span> <span class="k">return</span> <span class="n">collatz2</span><span class="p">(</span><span class="n">N</span><span class="o">/</span><span class="m">2</span><span class="p">,</span> <span class="n">steps</span><span class="o">+</span><span class="m">1</span><span class="p">);</span> <span class="p">}</span>
		<span class="n">_</span> <span class="o">=&gt;</span> <span class="p">{</span> <span class="k">return</span> <span class="n">collatz2</span><span class="p">(</span><span class="n">N</span><span class="o">*</span><span class="m">3</span><span class="o">+</span><span class="m">1</span><span class="p">,</span> <span class="n">steps</span><span class="o">+</span><span class="m">1</span><span class="p">);</span> <span class="p">}</span>
	<span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
</div><br/><table style="border-top: 1px solid #ccc; border-bottom: 1px solid #ccc; width:100%"><tr><td style="width:20%"><a href="http://aml3.github.io/RustTutorial/html/toc.html" style="float:left"> Previous </a></td><td style="text-align: center;"><a href="http://aml3.github.io/RustTutorial/html/toc.html"> Table of Contents </a></td><td style="width:20%"><a href="http://aml3.github.io/RustTutorial/html/02.html" style="float: right"> Next </a></td></tr></table><br/>    </body>
                </html>